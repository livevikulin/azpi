"use strict";var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var Script=function(){function e(){var n=this;_classCallCheck(this,e),$(document).ready(function(){n.$element=$("body"),n.init()})}return _createClass(e,[{key:"init",value:function(){var e=this;this.$element.find(".js-select").select2({minimumResultsForSearch:1/0,theme:"azpi",width:"resolve"}),this.$element.find(".js-tree-root-link").on("click",function(e){var n=$(e.target);n.siblings(".js-tree-list").slideToggle({complete:function(){n.toggleClass("open")}})}),this.$element.find(".js-table").footable({expandAll:!0,showToggle:!1}),this.$element.find(".js-sidebar-title").on("click",function(e){if($(window).innerWidth()<=768){var n=$(e.target);n.siblings(".js-sidebar-inner").slideToggle({complete:function(){n.toggleClass("open")}})}}),this.$element.find(".js-slider").each(function(n,t){e.initSlider(t)}),this.$element.find(".js-quantity").each(function(n,t){e.quantity(t)}),this.$element.find(".js-tabs").each(function(n,t){e.tabs(t)}),this.$element.find(".js-form").each(function(n,t){e.initForm(t)}),this.menuToggle(),this.finderToggle(),this.$element.find(".js-y-maps").each(function(n,t){e.ymapsInit()}),this.initModal()}},{key:"initModal",value:function(){$(".js-modal").iziModal({height:"auto",closeButton:!0,radius:0})}},{key:"slider",value:function(e){var n=$(e),t=n.find(".js-slider-prev"),i=n.find(".js-slider-next"),a=n.find(".js-slide"),o=a.length-1,r=!1,s=!1;function l(e){if(!r){r=!0;var n=$(a[o]);n.removeClass("show").css("position","absolute"),o=e>=a.length?0:-1===e?a.length-1:e;var t=$(a[o]);t.css("position","relative").fadeIn().addClass("show"),n.find(".js-slide-title").fadeOut("fast"),t.find(".js-slide-title").slideDown("slow","linear",function(){n.fadeOut("fast"),setTimeout(function(){r=!1},300)})}}t.on("click",function(){return l(o-1)}),i.on("click",function(){return l(o+1)}),l(0),n.mouseout(function(){return s=!1}),n.mouseover(function(){return s=!0}),setInterval(function(){!s&&$(window).outerWidth()>768&&l(o+1)},5e3)}},{key:"initSlider",value:function(e){var n=$(e),t=n.find(".js-slider-prev"),i=n.find(".js-slider-next");n.find(".js-slide");n.slick({prevArrow:t,nextArrow:i,slide:".js-slide"})}},{key:"quantity",value:function(e){var n=$(e),t=n.find(".js-quantity-add"),i=n.find(".js-quantity-delete"),a=n.find(".js-quantity-number"),o=parseInt(a.text());function r(e){o=0===e?1:e,a.text(o)}i.on("click",function(){return r(o-1)}),t.on("click",function(){return r(o+1)})}},{key:"tabs",value:function(e){var n=$(e),t=n.find(".js-tabs-content");n.find(".js-tabs-link").on("click",function(e){var n=$(e.target),i=$(t[n.index()]);n.siblings().removeClass("active"),n.addClass("active"),t.removeClass("active"),t.hide(),i.fadeIn("fast","linear",function(){return i.addClass("active")})})}},{key:"menuToggle",value:function(){var e=this.$element.find(".js-header"),n=e.find(".js-menu-toggle"),t=e.find(".js-mobile-menu");this.$element.find(".bg-layer");n.on("click",function(){t.toggle("fade")})}},{key:"finderToggle",value:function(){var e=this.$element.find(".js-header"),n=e.find(".js-finder-toggle"),t=e.find(".js-mobile-finder");n.on("click",function(){t.toggle("fade")})}},{key:"ymapsInit",value:function(){ymaps.ready(function(){var e=new ymaps.Map("map",{center:[58,90],zoom:3,controls:[],type:"yandex#satellite"}),n=new ymaps.Placemark([55.8,37.8],{balloonContentHeader:"«Сиб-Траст» ТД ООО",balloonContentBody:"г. Миасс <br>+7 (3513) 29-84-16, <br> s-t-k@mail.ru"},{iconLayout:"default#image",iconImageHref:"img/maps-cursor.svg",iconImageSize:[38,55],iconImageOffset:[0,0],hideIconOnBalloonOpen:!1});e.geoObjects.add(n)})}},{key:"initForm",value:function(e){var n=$(e);n.find(".js-phone").mask("+7(000)000-00-00"),$.validator.addMethod("checkPhone",function(e,n){return/\+\d{1}\(\d{3}\)\d{3}-\d{2}-\d{2}/g.test(e)}),$.extend($.validator.messages,{checkPhone:"Введите правильный номер телефона.",required:"Это поле необходимо заполнить.",remote:"Пожалуйста, введите правильное значение.",email:"Пожалуйста, введите корректный email.",url:"Пожалуйста, введите корректный URL.",date:"Пожалуйста, введите корректную дату.",dateISO:"Пожалуйста, введите корректную дату в формате ISO.",number:"Пожалуйста, введите число.",digits:"Пожалуйста, вводите только цифры.",creditcard:"Пожалуйста, введите правильный номер кредитной карты.",equalTo:"Пожалуйста, введите такое же значение ещё раз.",extension:"Пожалуйста, выберите файл с правильным расширением.",maxlength:$.validator.format("Пожалуйста, введите не больше {0} символов."),minlength:$.validator.format("Пожалуйста, введите не меньше {0} символов."),rangelength:$.validator.format("Пожалуйста, введите значение длиной от {0} до {1} символов."),range:$.validator.format("Пожалуйста, введите число от {0} до {1}."),max:$.validator.format("Пожалуйста, введите число, меньшее или равное {0}."),min:$.validator.format("Пожалуйста, введите число, большее или равное {0}.")}),n.validate({errorPlacement:function(e,n){return"nda"!=n.attr("name")&&(e.insertAfter(n),$("<div class='error-icon'></div>").insertAfter(n)),!0},success:function(e){return"nda"!=e.attr("name")&&(alert(1),$(e).siblings(".error-icon").remove()),!0},lang:"ru",rules:{name:{required:!0,minlength:2},email:{required:!0,minlength:2,email:!0},tel:{required:!0,checkPhone:!0},nda:{required:!0}},submitHandler:function(e){$.ajax({url:e.action,type:"post",data:$(e).serialize(),success:function(e){}})}})}}]),e}(),script=new Script;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJTY3JpcHQiLCJfdGhpcyIsInRoaXMiLCJfY2xhc3NDYWxsQ2hlY2siLCIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsIiRlbGVtZW50IiwiaW5pdCIsIl90aGlzMiIsImZpbmQiLCJzZWxlY3QyIiwibWluaW11bVJlc3VsdHNGb3JTZWFyY2giLCJJbmZpbml0eSIsIndpZHRoIiwib24iLCJlIiwiJGVsIiwidGFyZ2V0Iiwic2libGluZ3MiLCJzbGlkZVRvZ2dsZSIsImNvbXBsZXRlIiwidG9nZ2xlQ2xhc3MiLCJmb290YWJsZSIsImV4cGFuZEFsbCIsInNob3dUb2dnbGUiLCJlYWNoIiwiZWwiLCJ0YWJzIiwibWVudVRvZ2dsZSIsImZpbmRlclRvZ2dsZSIsInltYXBzSW5pdCIsImluaXRNb2RhbCIsIml6aU1vZGFsIiwiaGVpZ2h0IiwiY2xvc2VCdXR0b24iLCJyYWRpdXMiLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJzbGlkZXMiLCJpdGVyYXRvciIsImxlbmd0aCIsImJ1c3kiLCJzZXRDdXJyZW50U2xpZGUiLCJudW1iZXIiLCJvbGRTbGlkZSIsInJlbW92ZUNsYXNzIiwiY3NzIiwic2xpZGVOZXciLCJmYWRlSW4iLCJhZGRDbGFzcyIsImZhZGVPdXQiLCJtb3VzZW91dCIsInNsaWRlRG93biIsIm1vdXNlT25TbGlkZXIiLCJtb3VzZW92ZXIiLCJzZXRJbnRlcnZhbCIsIndpbmRvdyIsIm91dGVyV2lkdGgiLCJzZXRUaW1lb3V0IiwiJHF1YW50aXR5RGVsZXRlIiwiJHF1YW50aXR5TnVtYmVyIiwicXVhbnRpdHkiLCJwYXJzZUludCIsInRleHQiLCJzZXRRdWFudGl0eSIsIiRxdWFudGl0eUFkZCIsInNsaWNrIiwic2xpZGUiLCIkY3VycmVudFRhYiIsIiRjdXJyZW50VGFiQ29udGVudCIsIiR0YWJzQ29udGVudCIsImluZGV4IiwiJGhlYWRlciIsIiRoYW1idXJnZXIiLCIkbWVudSIsInRvZ2dsZSIsIiRmaW5kZXJUb2dnbGUiLCJNYXAiLCJ6b29tIiwiY29udHJvbHMiLCJ0eXBlIiwibXlQbGFjZW1hcmsxIiwieW1hcHMiLCJQbGFjZW1hcmsiLCJiYWxsb29uQ29udGVudEhlYWRlciIsIiRiZ0xheWVyIiwiaWNvbkltYWdlU2l6ZSIsIm15TWFwIiwiZ2VvT2JqZWN0cyIsImFkZCIsIiRmb3JtIiwibWFzayIsInZhbGlkYXRvciIsImFkZE1ldGhvZCIsInZhbHVlIiwiZWxlbWVudCIsInRlc3QiLCJleHRlbmQiLCJtZXNzYWdlcyIsInJlcXVpcmVkIiwicmVtb3RlIiwiZW1haWwiLCJjZW50ZXIiLCJkaWdpdHMiLCJjcmVkaXRjYXJkIiwiZXF1YWxUbyIsImJhbGxvb25Db250ZW50Qm9keSIsIm1pbmxlbmd0aCIsImZvcm1hdCIsImljb25MYXlvdXQiLCJpY29uSW1hZ2VIcmVmIiwiaWNvbkltYWdlT2Zmc2V0IiwidmFsaWRhdGUiLCJhdHRyIiwiZXJyb3IiLCJpbnNlcnRBZnRlciIsInN1Y2Nlc3MiLCJhbGVydCIsInJlbW92ZSIsImxhbmciLCJjaGVja1Bob25lIiwidXJsIiwiZGF0ZSIsImRhdGVJU08iLCJleHRlbnNpb24iLCJyYW5nZWxlbmd0aCIsIm1pbiIsImFqYXgiLCJmb3JtIiwiYWN0aW9uIiwiZXJyb3JQbGFjZW1lbnQiLCJzZXJpYWxpemUiLCJyZXNwb25zZSJdLCJtYXBwaW5ncyI6ImlZQUFNQSxrQkFFRixTQUFBQSxJQUFjLElBQUFDLEVBQUFDLEtBQUFDLGdCQUFBRCxLQUFBRixHQUNWSSxFQUFFQyxVQUFVQyxNQUFNLFdBQ2RMLEVBQUtNLFNBQVdILEVBQUUsUUFDbEJILEVBQUtPLDZEQUlOLElBQUFDLEVBQUFQLEtBUE9BLEtBQUFLLFNBQUFHLEtBQUEsY0FBQUMsU0FTTkMsd0JBQXlCQyxFQUFBQSxFQVIzQlIsTUFBRixPQUNJUyxNQUFLUCxZQUdaTCxLQUFBSyxTQUFBRyxLQUFBLHNCQUFBSyxHQUFBLFFBQUEsU0FBQUMsR0FVTyxJQUFNQyxFQUFNYixFQUFFWSxFQUFFRSxRQUVoQkQsRUFB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Q0FyQixVQUFVLEVBQ1ZDLFVBQVEsR0FFUnFCLE9BQ0FDLFVBQU0sRUFDTkMsVUFBUyxFQUNUaEYsT0FBUSxHQUVSNkQsS0FDQUMsVUFBUyxFQUNUbUIsWUFBVyxHQUVYakIsS0FDQWtCLFVBQWExSCxJQUdiMkgsY0FBT2xDLFNBQVVnQixHQWxCckJ6RyxFQUFBNEgsTUF5RFlOLElBQUtPLEVBQUtDLE9BcENoQmpCLEtBQU4sT0FDSWtCLEtBQUFBLEVBQUFBLEdBQWdCQyxZQUNaZixRQUFJckIsU0FBYXFDLG1CQVNiakksT0FBQUEsSUFBQUEiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgU2NyaXB0IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAkKGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQgPSAkKCdib2R5Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5maW5kKCcuanMtc2VsZWN0Jykuc2VsZWN0Mih7XHJcbiAgICAgICAgICAgIG1pbmltdW1SZXN1bHRzRm9yU2VhcmNoOiBJbmZpbml0eSxcclxuICAgICAgICAgICAgdGhlbWU6IFwiYXpwaVwiLFxyXG4gICAgICAgICAgICB3aWR0aDogJ3Jlc29sdmUnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQuZmluZCgnLmpzLXRyZWUtcm9vdC1saW5rJykub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBjb25zdCAkZWwgPSAkKGUudGFyZ2V0KTtcclxuXHJcbiAgICAgICAgICAgICRlbC5zaWJsaW5ncygnLmpzLXRyZWUtbGlzdCcpLnNsaWRlVG9nZ2xlKHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGVsLnRvZ2dsZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLiRlbGVtZW50LmZpbmQoJy5qcy10YWJsZScpLmZvb3RhYmxlKHtcclxuICAgICAgICAgICAgZXhwYW5kQWxsOiB0cnVlLFxyXG4gICAgICAgICAgICBzaG93VG9nZ2xlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLiRlbGVtZW50LmZpbmQoJy5qcy1zaWRlYmFyLXRpdGxlJykub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoJCh3aW5kb3cpLmlubmVyV2lkdGgoKSA8PSA3NjgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0ICRlbCA9ICQoZS50YXJnZXQpO1xyXG5cclxuICAgICAgICAgICAgICAgICRlbC5zaWJsaW5ncygnLmpzLXNpZGViYXItaW5uZXInKS5zbGlkZVRvZ2dsZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGVsLnRvZ2dsZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5maW5kKCcuanMtc2xpZGVyJykuZWFjaCgoZSwgZWwpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbml0U2xpZGVyKGVsKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5maW5kKCcuanMtcXVhbnRpdHknKS5lYWNoKChlLCBlbCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnF1YW50aXR5KGVsKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5maW5kKCcuanMtdGFicycpLmVhY2goKGUsIGVsKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudGFicyhlbCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQuZmluZCgnLmpzLWZvcm0nKS5lYWNoKChlLCBlbCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRGb3JtKGVsKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5tZW51VG9nZ2xlKCk7XHJcbiAgICAgICAgdGhpcy5maW5kZXJUb2dnbGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5maW5kKCcuanMteS1tYXBzJykuZWFjaCgoZSwgZWwpID0+IHtcclxuICAgICAgICAgICAgdGhpcy55bWFwc0luaXQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0TW9kYWwoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0TW9kYWwoKSB7XHJcbiAgICAgICAgJCgnLmpzLW1vZGFsJykuaXppTW9kYWwoe1xyXG4gICAgICAgICAgICBoZWlnaHQ6ICdhdXRvJyxcclxuICAgICAgICAgICAgY2xvc2VCdXR0b246IHRydWUsXHJcbiAgICAgICAgICAgIHJhZGl1czogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNsaWRlcihlbCkge1xyXG4gICAgICAgIGNvbnN0ICRlbCA9ICQoZWwpO1xyXG4gICAgICAgIGNvbnN0IHByZXZBcnJvdyA9ICRlbC5maW5kKCcuanMtc2xpZGVyLXByZXYnKTtcclxuICAgICAgICBjb25zdCBuZXh0QXJyb3cgPSAkZWwuZmluZCgnLmpzLXNsaWRlci1uZXh0Jyk7XHJcbiAgICAgICAgY29uc3Qgc2xpZGVzID0gJGVsLmZpbmQoJy5qcy1zbGlkZScpO1xyXG4gICAgICAgIGxldCBpdGVyYXRvciA9IHNsaWRlcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIGxldCBidXN5ID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IG1vdXNlT25TbGlkZXIgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgcHJldkFycm93Lm9uKCdjbGljaycsICgpID0+IHNldEN1cnJlbnRTbGlkZShpdGVyYXRvciAtIDEpKTtcclxuICAgICAgICBuZXh0QXJyb3cub24oJ2NsaWNrJywgKCkgPT4gc2V0Q3VycmVudFNsaWRlKGl0ZXJhdG9yICsgMSkpO1xyXG5cclxuICAgICAgICBzZXRDdXJyZW50U2xpZGUoMCk7XHJcblxyXG4gICAgICAgICRlbC5tb3VzZW91dCgoKSA9PiBtb3VzZU9uU2xpZGVyID0gZmFsc2UpO1xyXG4gICAgICAgICRlbC5tb3VzZW92ZXIoKCkgPT4gbW91c2VPblNsaWRlciA9IHRydWUpO1xyXG5cclxuICAgICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghbW91c2VPblNsaWRlciAmJiAkKHdpbmRvdykub3V0ZXJXaWR0aCgpID4gNzY4KSB7XHJcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50U2xpZGUoaXRlcmF0b3IgKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDUwMDApO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRDdXJyZW50U2xpZGUobnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGlmICghYnVzeSkge1xyXG4gICAgICAgICAgICAgICAgYnVzeSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRTbGlkZSA9ICQoc2xpZGVzW2l0ZXJhdG9yXSk7XHJcbiAgICAgICAgICAgICAgICBvbGRTbGlkZS5yZW1vdmVDbGFzcygnc2hvdycpLmNzcygncG9zaXRpb24nLCAnYWJzb2x1dGUnKTtcclxuICAgICAgICAgICAgICAgIGl0ZXJhdG9yID0gbnVtYmVyID49IHNsaWRlcy5sZW5ndGggPyAwIDogKG51bWJlciA9PT0gLTEgPyBzbGlkZXMubGVuZ3RoIC0gMSA6IG51bWJlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzbGlkZU5ldyA9ICQoc2xpZGVzW2l0ZXJhdG9yXSk7XHJcbiAgICAgICAgICAgICAgICBzbGlkZU5ldy5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJykuZmFkZUluKCkuYWRkQ2xhc3MoJ3Nob3cnKTtcclxuICAgICAgICAgICAgICAgIG9sZFNsaWRlLmZpbmQoJy5qcy1zbGlkZS10aXRsZScpLmZhZGVPdXQoJ2Zhc3QnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzbGlkZU5ldy5maW5kKCcuanMtc2xpZGUtdGl0bGUnKS5zbGlkZURvd24oJ3Nsb3cnLCAnbGluZWFyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG9sZFNsaWRlLmZhZGVPdXQoJ2Zhc3QnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1c3kgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAzMDApO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFNsaWRlcihlbCkge1xyXG4gICAgICAgIGNvbnN0ICRlbCA9ICQoZWwpO1xyXG5cclxuICAgICAgICBjb25zdCBwcmV2QXJyb3cgPSAkZWwuZmluZCgnLmpzLXNsaWRlci1wcmV2Jyk7XHJcbiAgICAgICAgY29uc3QgbmV4dEFycm93ID0gJGVsLmZpbmQoJy5qcy1zbGlkZXItbmV4dCcpO1xyXG4gICAgICAgIGNvbnN0IHNsaWRlcyA9ICRlbC5maW5kKCcuanMtc2xpZGUnKTtcclxuXHJcbiAgICAgICAgJGVsLnNsaWNrKHtcclxuICAgICAgICAgICAgcHJldkFycm93OiBwcmV2QXJyb3csXHJcbiAgICAgICAgICAgIG5leHRBcnJvdzogbmV4dEFycm93LFxyXG4gICAgICAgICAgICBzbGlkZTogJy5qcy1zbGlkZSdcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBxdWFudGl0eShlbCkge1xyXG4gICAgICAgIGNvbnN0ICRlbCA9ICQoZWwpO1xyXG4gICAgICAgIGNvbnN0ICRxdWFudGl0eUFkZCA9ICRlbC5maW5kKCcuanMtcXVhbnRpdHktYWRkJyk7XHJcbiAgICAgICAgY29uc3QgJHF1YW50aXR5RGVsZXRlID0gJGVsLmZpbmQoJy5qcy1xdWFudGl0eS1kZWxldGUnKTtcclxuICAgICAgICBjb25zdCAkcXVhbnRpdHlOdW1iZXIgPSAkZWwuZmluZCgnLmpzLXF1YW50aXR5LW51bWJlcicpO1xyXG4gICAgICAgIGxldCBxdWFudGl0eSA9IHBhcnNlSW50KCRxdWFudGl0eU51bWJlci50ZXh0KCkpO1xyXG5cclxuICAgICAgICAkcXVhbnRpdHlEZWxldGUub24oJ2NsaWNrJywgKCkgPT4gc2V0UXVhbnRpdHkocXVhbnRpdHkgLSAxKSk7XHJcbiAgICAgICAgJHF1YW50aXR5QWRkLm9uKCdjbGljaycsICgpID0+IHNldFF1YW50aXR5KHF1YW50aXR5ICsgMSkpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRRdWFudGl0eShudW1iZXIpIHtcclxuICAgICAgICAgICAgcXVhbnRpdHkgPSAobnVtYmVyID09PSAwKSA/IDEgOiBudW1iZXI7XHJcbiAgICAgICAgICAgICRxdWFudGl0eU51bWJlci50ZXh0KHF1YW50aXR5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGFicyhlbCkge1xyXG4gICAgICAgIGNvbnN0ICRlbCA9ICQoZWwpO1xyXG4gICAgICAgIGNvbnN0ICR0YWJzQ29udGVudCA9ICRlbC5maW5kKCcuanMtdGFicy1jb250ZW50Jyk7XHJcblxyXG4gICAgICAgICRlbC5maW5kKCcuanMtdGFicy1saW5rJykub24oJ2NsaWNrJywgZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0ICRjdXJyZW50VGFiID0gJChlLnRhcmdldCk7XHJcbiAgICAgICAgICAgIGNvbnN0ICRjdXJyZW50VGFiQ29udGVudCA9ICQoJHRhYnNDb250ZW50WyRjdXJyZW50VGFiLmluZGV4KCldKTtcclxuXHJcbiAgICAgICAgICAgICRjdXJyZW50VGFiLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAkY3VycmVudFRhYi5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICR0YWJzQ29udGVudC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICR0YWJzQ29udGVudC5oaWRlKCk7XHJcbiAgICAgICAgICAgICRjdXJyZW50VGFiQ29udGVudC5mYWRlSW4oJ2Zhc3QnLCAnbGluZWFyJywgKCkgPT4gJGN1cnJlbnRUYWJDb250ZW50LmFkZENsYXNzKCdhY3RpdmUnKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbWVudVRvZ2dsZSgpIHtcclxuICAgICAgICBjb25zdCAkaGVhZGVyID0gdGhpcy4kZWxlbWVudC5maW5kKCcuanMtaGVhZGVyJyk7XHJcbiAgICAgICAgY29uc3QgJGhhbWJ1cmdlciA9ICRoZWFkZXIuZmluZCgnLmpzLW1lbnUtdG9nZ2xlJyk7XHJcbiAgICAgICAgY29uc3QgJG1lbnUgPSAkaGVhZGVyLmZpbmQoJy5qcy1tb2JpbGUtbWVudScpO1xyXG4gICAgICAgIGNvbnN0ICRiZ0xheWVyID0gdGhpcy4kZWxlbWVudC5maW5kKCcuYmctbGF5ZXInKTtcclxuXHJcbiAgICAgICAgJGhhbWJ1cmdlci5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICRtZW51LnRvZ2dsZShcImZhZGVcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZmluZGVyVG9nZ2xlKCkge1xyXG4gICAgICAgIGNvbnN0ICRoZWFkZXIgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5qcy1oZWFkZXInKTtcclxuICAgICAgICBjb25zdCAkZmluZGVyVG9nZ2xlID0gJGhlYWRlci5maW5kKCcuanMtZmluZGVyLXRvZ2dsZScpO1xyXG4gICAgICAgIGNvbnN0ICRtZW51ID0gJGhlYWRlci5maW5kKCcuanMtbW9iaWxlLWZpbmRlcicpO1xyXG5cclxuICAgICAgICAkZmluZGVyVG9nZ2xlLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgJG1lbnUudG9nZ2xlKFwiZmFkZVwiKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB5bWFwc0luaXQoKSB7XHJcbiAgICAgICAgeW1hcHMucmVhZHkoaW5pdCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAgICAgICAgIHZhciBteU1hcCA9IG5ldyB5bWFwcy5NYXAoXCJtYXBcIiwge1xyXG4gICAgICAgICAgICAgICAgY2VudGVyOiBbNTgsIDkwXSxcclxuICAgICAgICAgICAgICAgIHpvb206IDMsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sczogW10sXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAneWFuZGV4I3NhdGVsbGl0ZSdcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgbXlQbGFjZW1hcmsxID0gbmV3IHltYXBzLlBsYWNlbWFyayhbNTUuOCwgMzcuOF0sIHtcclxuICAgICAgICAgICAgICAgIGJhbGxvb25Db250ZW50SGVhZGVyOiBcIsKr0KHQuNCxLdCi0YDQsNGB0YLCuyDQotCUINCe0J7QnlwiLFxyXG4gICAgICAgICAgICAgICAgYmFsbG9vbkNvbnRlbnRCb2R5OiBcItCzLiDQnNC40LDRgdGBIDxicj4rNyAoMzUxMykgMjktODQtMTYsIDxicj4gcy10LWtAbWFpbC5ydVwiXHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIGljb25MYXlvdXQ6ICdkZWZhdWx0I2ltYWdlJyxcclxuICAgICAgICAgICAgICAgIGljb25JbWFnZUhyZWY6ICdpbWcvbWFwcy1jdXJzb3Iuc3ZnJyxcclxuICAgICAgICAgICAgICAgIGljb25JbWFnZVNpemU6IFszOCwgNTVdLFxyXG4gICAgICAgICAgICAgICAgaWNvbkltYWdlT2Zmc2V0OiBbMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBoaWRlSWNvbk9uQmFsbG9vbk9wZW46IGZhbHNlXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlQbGFjZW1hcmsxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdEZvcm0oZWwpIHtcclxuICAgICAgICBjb25zdCAkZm9ybSA9ICQoZWwpO1xyXG5cclxuICAgICAgICAkZm9ybS5maW5kKCcuanMtcGhvbmUnKS5tYXNrKFwiKzcoMDAwKTAwMC0wMC0wMFwiKTtcclxuXHJcbiAgICAgICAgJC52YWxpZGF0b3IuYWRkTWV0aG9kKFwiY2hlY2tQaG9uZVwiLCBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIC9cXCtcXGR7MX1cXChcXGR7M31cXClcXGR7M30tXFxkezJ9LVxcZHsyfS9nLnRlc3QodmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkLmV4dGVuZCgkLnZhbGlkYXRvci5tZXNzYWdlcywge1xyXG4gICAgICAgICAgICBjaGVja1Bob25lOiBcItCS0LLQtdC00LjRgtC1INC/0YDQsNCy0LjQu9GM0L3Ri9C5INC90L7QvNC10YAg0YLQtdC70LXRhNC+0L3QsC5cIixcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IFwi0K3RgtC+INC/0L7Qu9C1INC90LXQvtCx0YXQvtC00LjQvNC+INC30LDQv9C+0LvQvdC40YLRjC5cIixcclxuICAgICAgICAgICAgcmVtb3RlOiBcItCf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0LXQtNC40YLQtSDQv9GA0LDQstC40LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1LlwiLFxyXG4gICAgICAgICAgICBlbWFpbDogXCLQn9C+0LbQsNC70YPQudGB0YLQsCwg0LLQstC10LTQuNGC0LUg0LrQvtGA0YDQtdC60YLQvdGL0LkgZW1haWwuXCIsXHJcbiAgICAgICAgICAgIHVybDogXCLQn9C+0LbQsNC70YPQudGB0YLQsCwg0LLQstC10LTQuNGC0LUg0LrQvtGA0YDQtdC60YLQvdGL0LkgVVJMLlwiLFxyXG4gICAgICAgICAgICBkYXRlOiBcItCf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0LXQtNC40YLQtSDQutC+0YDRgNC10LrRgtC90YPRjiDQtNCw0YLRgy5cIixcclxuICAgICAgICAgICAgZGF0ZUlTTzogXCLQn9C+0LbQsNC70YPQudGB0YLQsCwg0LLQstC10LTQuNGC0LUg0LrQvtGA0YDQtdC60YLQvdGD0Y4g0LTQsNGC0YMg0LIg0YTQvtGA0LzQsNGC0LUgSVNPLlwiLFxyXG4gICAgICAgICAgICBudW1iZXI6IFwi0J/QvtC20LDQu9GD0LnRgdGC0LAsINCy0LLQtdC00LjRgtC1INGH0LjRgdC70L4uXCIsXHJcbiAgICAgICAgICAgIGRpZ2l0czogXCLQn9C+0LbQsNC70YPQudGB0YLQsCwg0LLQstC+0LTQuNGC0LUg0YLQvtC70YzQutC+INGG0LjRhNGA0YsuXCIsXHJcbiAgICAgICAgICAgIGNyZWRpdGNhcmQ6IFwi0J/QvtC20LDQu9GD0LnRgdGC0LAsINCy0LLQtdC00LjRgtC1INC/0YDQsNCy0LjQu9GM0L3Ri9C5INC90L7QvNC10YAg0LrRgNC10LTQuNGC0L3QvtC5INC60LDRgNGC0YsuXCIsXHJcbiAgICAgICAgICAgIGVxdWFsVG86IFwi0J/QvtC20LDQu9GD0LnRgdGC0LAsINCy0LLQtdC00LjRgtC1INGC0LDQutC+0LUg0LbQtSDQt9C90LDRh9C10L3QuNC1INC10YnRkSDRgNCw0LcuXCIsXHJcbiAgICAgICAgICAgIGV4dGVuc2lvbjogXCLQn9C+0LbQsNC70YPQudGB0YLQsCwg0LLRi9Cx0LXRgNC40YLQtSDRhNCw0LnQuyDRgSDQv9GA0LDQstC40LvRjNC90YvQvCDRgNCw0YHRiNC40YDQtdC90LjQtdC8LlwiLFxyXG4gICAgICAgICAgICBtYXhsZW5ndGg6ICQudmFsaWRhdG9yLmZvcm1hdChcItCf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0LXQtNC40YLQtSDQvdC1INCx0L7Qu9GM0YjQtSB7MH0g0YHQuNC80LLQvtC70L7Qsi5cIiksXHJcbiAgICAgICAgICAgIG1pbmxlbmd0aDogJC52YWxpZGF0b3IuZm9ybWF0KFwi0J/QvtC20LDQu9GD0LnRgdGC0LAsINCy0LLQtdC00LjRgtC1INC90LUg0LzQtdC90YzRiNC1IHswfSDRgdC40LzQstC+0LvQvtCyLlwiKSxcclxuICAgICAgICAgICAgcmFuZ2VsZW5ndGg6ICQudmFsaWRhdG9yLmZvcm1hdChcItCf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0LXQtNC40YLQtSDQt9C90LDRh9C10L3QuNC1INC00LvQuNC90L7QuSDQvtGCIHswfSDQtNC+IHsxfSDRgdC40LzQstC+0LvQvtCyLlwiKSxcclxuICAgICAgICAgICAgcmFuZ2U6ICQudmFsaWRhdG9yLmZvcm1hdChcItCf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0LXQtNC40YLQtSDRh9C40YHQu9C+INC+0YIgezB9INC00L4gezF9LlwiKSxcclxuICAgICAgICAgICAgbWF4OiAkLnZhbGlkYXRvci5mb3JtYXQoXCLQn9C+0LbQsNC70YPQudGB0YLQsCwg0LLQstC10LTQuNGC0LUg0YfQuNGB0LvQviwg0LzQtdC90YzRiNC10LUg0LjQu9C4INGA0LDQstC90L7QtSB7MH0uXCIpLFxyXG4gICAgICAgICAgICBtaW46ICQudmFsaWRhdG9yLmZvcm1hdChcItCf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0LXQtNC40YLQtSDRh9C40YHQu9C+LCDQsdC+0LvRjNGI0LXQtSDQuNC70Lgg0YDQsNCy0L3QvtC1IHswfS5cIilcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJGZvcm0udmFsaWRhdGUoe1xyXG4gICAgICAgICAgICBlcnJvclBsYWNlbWVudDogZnVuY3Rpb24gKGVycm9yLCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5hdHRyKFwibmFtZVwiKSAhPSBcIm5kYVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuaW5zZXJ0QWZ0ZXIoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIjxkaXYgY2xhc3M9J2Vycm9yLWljb24nPjwvZGl2PlwiKS5pbnNlcnRBZnRlcihlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuYXR0cihcIm5hbWVcIikgIT0gXCJuZGFcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoZWxlbWVudCkuc2libGluZ3MoJy5lcnJvci1pY29uJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGFuZzogJ3J1JyxcclxuICAgICAgICAgICAgcnVsZXM6IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IHtcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtaW5sZW5ndGg6IDJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbWFpbDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbmxlbmd0aDogMixcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHRlbDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrUGhvbmU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBuZGE6IHtcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWJtaXRIYW5kbGVyOiBmdW5jdGlvbiAoZm9ybSkge1xyXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IGZvcm0uYWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwb3N0JyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiAkKGZvcm0pLnNlcmlhbGl6ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHNjcmlwdCA9IG5ldyBTY3JpcHQoKTtcclxuIl19
